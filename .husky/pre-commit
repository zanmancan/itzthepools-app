#!/usr/bin/env node
// Husky pre-commit (Windows & Desktop safe)
const { spawnSync } = require('node:child_process');

function run(cmd, args) {
  const r = spawnSync(cmd, args, { stdio: 'inherit', shell: true });
  if (r.status !== 0) process.exit(r.status ?? 1);
}

run('npx', ['--no', '--', 'lint-staged']);
run('npm', ['run', '-s', 'typecheck']);
